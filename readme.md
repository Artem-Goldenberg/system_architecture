## Репозеторий "Архитектура и проектирование систем"

### Диаграмма

![plot](cli_concept.png? "CLI Component Diagram")

### Описание компонент

- UI - пользовательский интерфейс. Используется для ввода и вывода информации в программу.
- Controller - центр управления программы. Связывает между собой все компоненты. Управляет потоком данных между ними. Инициирует обработку строки, cоздаение и вызов команды.
- Parser - компонент, обрабатывающий входную строку.
  - Tokenizer -  компонент, который разбивает строку на токены. Понимает кавычики, подстановки, присвоение и тд.
  - Param Filler - отвечает за подстановку параметров в строку, токены.
- Storage - общее хранилище в котом хранятся токены полученные из строки. Для второго этапа в хранилище также будут хранится подстановки.
- Command Factory - создает команду из токена. Factory хранит в себе информацию о существующих командах. Если на вход приходит неизвестная команда, создает команду вызова из командной строки.

### Процесс

1. Пользователь запускает программу. Создается экземпляр Controller, который в свою очередь инициализирует остальные важные компоненты.
2. Пользователь вводить в UI, строку
3. Controller получает строку и передает ее в Parser. В Parser строка разбивается на токены, которые передаются в хранилище.
4. Controller забирает токен из хранилища и передает его в Command Factory для создания команды.
5. Созданная команда, содержит в себе информацию о количестве необходимых для выполнения параметров. При создании, она считывает их из хранилища.
6. Controller вызывает команду. На вызов может измениться внутренее состояние системы. Если команда поддерживает строковый выход, то созается специальный токен, который отдельно сохраняется в хранилище.
7. Controller проверяет следующий токен из хранилища, если это пайп то повторяется шаг 4, иначе выводит последний записанный в хранилище специальный токен в UI.
